{"version":3,"sources":["images/Vector.svg","components/Header.js","images/Vector1.svg","images/cross.svg","images/delete2.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/ImagePopup.js","utils/api.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","src","logo","alt","UserContext","React","createContext","Card","currentUser","useContext","card","data","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","likeOwner","likeButtonClassName","type","onClick","handleCardClick","link","name","onLikeClick","length","onDeleteClick","trash2","Main","onEditAvatar","avatar","onEditProfile","vector","about","onAddPlace","cross","cards","map","onCardDelete","onCardLike","Footer","PopupWithForm","isOpen","onClose","title","onSubmit","children","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","onChange","target","value","id","minLength","maxLength","required","ImagePopup","selectedCard","api","baseUrl","headers","this","_url","_headers","res","ok","json","Promise","reject","status","fetch","then","_checkResponse","method","body","JSON","stringify","authorization","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","placeholder","AddPlacePopup","place","setLink","onAddCard","App","isEditProfilePopupOpen","setEditProfile","isAddPlacePopupOpen","setAddPlacePopup","isEditAvatarPopupOpen","setAvatarPopup","isImagePopupOpen","setImagePopup","setSelectedCard","setUser","initialCards","setCards","closeAllPopups","getInitialCards","catch","err","console","log","getUserData","Provider","deleteCard","state","filter","c","like","toggleLike","newCard","sendUserData","sendUserAvatar","sendCardInfo","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.66e35a3e.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Vector.bbe2a6ea.svg\";","import logo from '../images/Vector.svg'\r\n\r\nfunction Header (props){\r\n    return(\r\n        <div className=\"header\">\r\n            <img className=\"header__logo\" src={logo} alt=\"Лого\"/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","export default __webpack_public_path__ + \"static/media/Vector1.6c7bf054.svg\";","export default __webpack_public_path__ + \"static/media/cross.bed8c136.svg\";","export default __webpack_public_path__ + \"static/media/delete2.c4956c32.svg\";","import React from 'react';\r\n\r\nexport const UserContext = React.createContext();\r\n","import trash2 from '../images/delete2.svg'\r\nimport React from 'react';\r\nimport { UserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card (props){\r\n\r\n    const currentUser = React.useContext(UserContext);\r\n\r\n    const card = props.data;\r\n\r\n    const isOwn = card.owner._id === currentUser._id;\r\n\r\n    const cardDeleteButtonClassName = `${isOwn ? 'elements__delete-button link' : 'elements__delete-button_disabled'}`;\r\n\r\n    let isLiked = card.likes.some(likeOwner => likeOwner._id === currentUser._id)//так она же может тут меняться...\r\n\r\n    const likeButtonClassName = `link ${isLiked ? 'elements__like-button_active ' : 'elements__like-button'}`;\r\n\r\n    function handleClick() {\r\n      props.handleCardClick(card);\r\n    }  \r\n\r\n    return(\r\n        <div className=\"elements__item\">\r\n          <button className=\"elements__popup-button\" type=\"button\" onClick={handleClick}>\r\n            <img className=\"elements__photo link\" src={card.link} alt={card.name}/>\r\n          </button>\r\n          <div className=\"elements__description-content\">\r\n          <h2 className=\"elements__title\">{card.name}</h2>\r\n          <div className='elements__like'>\r\n            <button className={likeButtonClassName} type=\"button\" onClick={()=>{props.onLikeClick(card)}}></button>\r\n            <div className='elements__like-quantity'>{card.likes.length}</div>\r\n            </div>\r\n          </div>\r\n          <button className={cardDeleteButtonClassName} onClick={()=>{props.onDeleteClick(card)}} type=\"button\">\r\n            <img className=\"elements__trash-img\" src={trash2} alt=\"удалить\"/>\r\n          </button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Card;","import vector from '../images/Vector1.svg';\r\nimport cross from '../images/cross.svg';\r\nimport React from 'react';\r\nimport Card from './Card';\r\nimport { UserContext } from '../contexts/CurrentUserContext';\r\n\r\n\r\nfunction Main (props){\r\n\r\n  const currentUser = React.useContext(UserContext);\r\n\r\n\r\n  return(\r\n    <div className=\"main\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__info\">\r\n          <button className='profile__avatar-button link' onClick={props.onEditAvatar} type='button'>\r\n              <img className=\"profile__img\" src={currentUser.avatar} alt=\"Фото профиля\" />\r\n              <div className='profile__avatar-icon'>\r\n              </div>\r\n          </button>\r\n          <div className=\"profile__title\">\r\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n            <button className=\"profile__edit-button link\" onClick={props.onEditProfile} type=\"button\"><img className=\"profile__edit-img\" src={vector} alt=\"Редактировать профиль\" /></button>\r\n            <p className=\"profile__profession\">{currentUser.about}</p>\r\n          </div>\r\n        </div>\r\n        <button className=\"profile__add-button link\" onClick={props.onAddPlace} type=\"button\">\r\n          <img className=\"profile__cross\" src={cross} alt=\"Добавить изображение\" />\r\n        </button>\r\n        </section>\r\n        <section className=\"elements\">\r\n          {props.cards.map((card) => (\r\n            <Card key={card._id} data={card} handleCardClick={props.handleCardClick} onDeleteClick={props.onCardDelete} onLikeClick={props.onCardLike}/>//Нет точной уверенности, что этот ключ подойдет.\r\n          ))}\r\n        </section>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Main","function Footer (props){\r\n    return(\r\n        <div className=\"footer\">\r\n            <p className=\"footer__text\">&copy;2021 Егор Жеглов</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Footer","\r\n\r\nfunction PopupWithForm (props){\r\n    return(\r\n        <div className={`popup popup_type_${props.name} ${props.isOpen ? 'popup_is-opened' : ' '}`}>\r\n          <div className=\"popup__container\">\r\n              <button className=\"popup__close popup__close_edit link\" onClick={props.onClose} type=\"button\"></button>\r\n                <h2 className=\"popup__title\">{props.title}</h2>\r\n                <form className = \"popup__form popup__form_edit\" name = {`${props.name}Form`} onSubmit = {props.onSubmit}>\r\n                    {props.children}\r\n                    <button className = \"popup__save-button\" type = \"submit\">Сохранить</button>\r\n                </form>\r\n      </div>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default PopupWithForm","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { UserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props){\r\n\r\n    const currentUser = React.useContext(UserContext);\r\n\r\n    const [name, setName] =React.useState('')\r\n    const [description, setDescription] =React.useState('')\r\n\r\n    function handleChangeName(e) {\r\n      setName(e.target.value);\r\n    }\r\n\r\n    function handleChangeDescription(e) {\r\n      setDescription(e.target.value);\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n      }, [currentUser, props.isOpen]);  \r\n\r\n    function handleSubmit(e) {\r\n        // Запрещаем браузеру переходить по адресу формы\r\n        e.preventDefault();\r\n        props.onUpdateUser(name, description);\r\n    }\r\n\r\n    return(\r\n      <PopupWithForm name=\"edit\" title=\"Редактировать профиль\" onClose={props.onClose} isOpen={props.isOpen} onSubmit={handleSubmit}>\r\n        <input className = \"popup__input\" type = \"text\" onChange={handleChangeName} value={name} name=\"nameInput\" id=\"name_input\" minLength=\"2\" maxLength=\"40\" required />\r\n        <span className = \"popup__input-error\" id=\"name_input-error\"></span>\r\n        <input className = \"popup__input\" type = \"text\" name=\"professionInput\" onChange={handleChangeDescription} value={description} id=\"profession_input\" minLength=\"2\" maxLength=\"200\" required />\r\n        <span className = \"popup__input-error\" id=\"profession_input-error\"></span>\r\n      </PopupWithForm>)\r\n}\r\n\r\nexport default EditProfilePopup;","\r\n\r\nfunction ImagePopup (props){\r\n  \r\n  let card;\r\n  if(props.selectedCard){\r\n    card = props.selectedCard;\r\n  } else {\r\n    card = {};\r\n  }\r\n  \r\n    return(\r\n      <div className= {`popup popup_type_photo ${props.isOpen ? 'popup_is-opened' : ' '}`} onClick={props.onClose}>\r\n          <div className=\"popup__photo-container\">\r\n          <button className=\"popup__close popup__close_photo link\" onClick={props.onClose} type=\"button\"></button>\r\n          <img className=\"popup__photo\" src={`${card.link}`} alt={card.name} />\r\n          <h3 className=\"popup__photo-title\">{card.name}</h3>\r\n        </div>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default ImagePopup","class Api {\r\n    constructor({baseUrl, headers}) {\r\n      this._url = baseUrl;\r\n      this._headers = headers;\r\n    }\r\n  \r\n    _checkResponse(res) {\r\n      //проверка ответа на запрос\r\n        if (res.ok) {\r\n          return res.json()\r\n        }\r\n        return Promise.reject(res.status)\r\n      }\r\n\r\n\r\n    getUserData(){\r\n      //Получаем информацию пользователе с сервера.\r\n        return fetch(`${this._url}/users/me`,{\r\n          headers: this._headers\r\n        })\r\n        .then(this._checkResponse)\r\n    }\r\n\r\n\r\n    getInitialCards(){\r\n      //получаем карточки, загруженные на сервер\r\n      return fetch(`${this._url}/cards`,{\r\n        headers: this._headers\r\n      })\r\n      .then(this._checkResponse)\r\n    }\r\n\r\n\r\n    toggleLike(id, method){\r\n      //Сообщаем серверу, что лайк поставлен\r\n      return fetch(`${this._url}/cards/likes/${id}`, {\r\n        method: `${method}`,\r\n        headers: this._headers,\r\n      })\r\n      .then(this._checkResponse)\r\n    }\r\n\r\n\r\n    sendCardInfo(name, link){\r\n      //ОТправляем данные карточки\r\n      return fetch(`${this._url}/cards`, {\r\n        method: 'POST',\r\n        headers: this._headers,\r\n        body: JSON.stringify({\r\n          name: `${name}`,\r\n          link: `${link}`\r\n        })\r\n      })\r\n      .then(this._checkResponse) \r\n    }\r\n\r\n    deleteCard(id){\r\n      //Сообщаем серверу, что лайк поставлен\r\n      return fetch(`${this._url}/cards/${id}`, {\r\n        method: `DELETE`,\r\n        headers: this._headers,\r\n      })\r\n      .then(this._checkResponse)\r\n    }\r\n\r\n    sendUserData(name, about){\r\n      //Отправляем измененные данные на сервер.\r\n      return fetch(`${this._url}/users/me`, {\r\n        method: 'PATCH',\r\n        headers: this._headers,\r\n        body: JSON.stringify({\r\n          name: `${name}`,\r\n          about: `${about}`\r\n        })\r\n      })\r\n      .then(this._checkResponse)\r\n    }\r\n\r\n    sendUserAvatar(link){\r\n      //Отправляем измененные данные на сервер.\r\n      return fetch(`${this._url}/users/me/avatar`, {\r\n        method:`PATCH`,\r\n        headers: this._headers,\r\n        body: JSON.stringify({\r\n          avatar: `${link}`,\r\n        })\r\n      })\r\n      .then(this._checkResponse)\r\n    }\r\n  }\r\n\r\n  const api = new Api({\r\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-25',\r\n    headers: {\r\n      authorization: '2245779c-6198-47bc-8dae-135ddf28bc0e',\r\n      'Content-Type': 'application/json'\r\n    }\r\n  });\r\n\r\n  export default api;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props){\r\n\r\n    const avatarRef = React.useRef();  \r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateAvatar(avatarRef.current.value);\r\n    }\r\n\r\n    return(\r\n      <PopupWithForm name=\"add\" title=\"Добавить Фото\" onClose={props.onClose} isOpen={props.isOpen} onSubmit={handleSubmit}>\r\n        <input className = \"popup__input\" ref={avatarRef} type = \"url\" name=\"avatarLinkInput\" id=\"avatar_input\" placeholder=\"Ссылка на картинку\" minLength=\"2\" maxLength=\"200\" required />\r\n        <span className = \"popup__input-error\" id=\"avatar_input-error\"></span>\r\n      </PopupWithForm>)\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup(props){\r\n    const [place, setName] =React.useState('')\r\n    const [link, setLink] =React.useState('')\r\n\r\n    function handleChangePlace(e) {\r\n      setName(e.target.value);\r\n    }\r\n\r\n    function handleChangeLink(e) {\r\n      setLink(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        // Запрещаем браузеру переходить по адресу формы\r\n        e.preventDefault();\r\n        props.onAddCard(place, link);\r\n        setName('');\r\n        setLink('');\r\n    }\r\n\r\n    return(\r\n      <PopupWithForm name=\"add\" title=\"Добавить Фото\" onClose={props.onClose} isOpen={props.isOpen} onSubmit={handleSubmit}>\r\n        <input className = \"popup__input\" value={place} onChange={handleChangePlace} type = \"text\" name=\"photoNameInput\" id=\"photo-name_input\" placeholder=\"Название\" minLength=\"2\" maxLength=\"30\"  required />\r\n        <span className = \"popup__input-error\" id=\"photo-name_input-error\"></span>\r\n        <input className = \"popup__input\" value={link} onChange={handleChangeLink} type = \"url\" name=\"photoLinkInput\" placeholder=\"Ссылка на картинку\" id=\"photo-link_input\"  required />\r\n        <span className = \"popup__input-error\" id=\"photo-link_input-error\"></span>\r\n      </PopupWithForm>)\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\nimport Header from './Header'\r\nimport Main from './Main'\r\nimport Footer from './Footer'\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport ImagePopup from './ImagePopup';\r\nimport api from '../utils/api';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport { UserContext } from '../contexts/CurrentUserContext';\r\nimport AddPlacePopup from './AddPlacePopup'\r\n\r\nfunction App() {\r\n  \r\n  const [isEditProfilePopupOpen, setEditProfile] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setAddPlacePopup] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setAvatarPopup] = React.useState(false);\r\n  const [isImagePopupOpen, setImagePopup] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState(null);\r\n  const [currentUser, setUser] = React.useState({name:'', about: ''})\r\n  const [initialCards, setCards] = React.useState([]);\r\n\r\n  \r\n  React.useEffect(() => {\r\n      api.getInitialCards()\r\n      .then(res =>{\r\n        setCards(res)\r\n      })\r\n      .catch(err => {\r\n        console.log(`Ошибка: ${err}`)\r\n      })\r\n  }, []);\r\n\r\n  function handleCardLike(card) {\r\n    // Снова проверяем, есть ли уже лайк на этой карточке\r\n    const isLiked = card.likes.some(like => like._id === currentUser._id);\r\n    \r\n    const method = isLiked ? 'DELETE' : 'PUT';\r\n\r\n    // Отправляем запрос в API и получаем обновлённые данные карточки\r\n    api.toggleLike(card._id, method)\r\n      .then((newCard) => {\r\n         setCards((state) => {\r\n           return state.map((c) => c._id === card._id ? newCard : c)//вставляем обновленную карточку\r\n         });\r\n      })\r\n      .catch(err => {\r\n        console.log(`Ошибка: ${err}`)\r\n      })\r\n  } \r\n  \r\n  React.useState(()=>{\r\n    api.getUserData()\r\n    .then(res =>{\r\n      setUser(res)\r\n    })\r\n    .catch(err => {\r\n      console.log(`Ошибка: ${err}`)\r\n    })\r\n  },[])\r\n\r\n  function handleCardClick(card){\r\n    setSelectedCard(card);\r\n    toggleImagePopup();\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api.deleteCard(card._id)\r\n      .then(() => {\r\n         setCards((state) => {\r\n           return state.filter((c) => c._id !== card._id )//вставляем обновленную карточку\r\n         });\r\n    })\r\n      .catch(err => {\r\n        console.log(`Ошибка: ${err}`)\r\n      })\r\n  } \r\n\r\n\r\n  function toggleAddPlace(){\r\n    setAddPlacePopup(true);\r\n  }\r\n\r\n  function toggleEditAvatar(){\r\n    setAvatarPopup(true);\r\n  }\r\n\r\n  function toggleEditProfile(){\r\n    setEditProfile(true);\r\n  }\r\n\r\n  function toggleImagePopup(){\r\n    setImagePopup(true);\r\n  }\r\n\r\n  function closeAllPopups(){\r\n    setImagePopup(false);\r\n    setAddPlacePopup(false);\r\n    setAvatarPopup(false);\r\n    setEditProfile(false);\r\n    setSelectedCard(null)\r\n  }\r\n  \r\n  function handleUpdateUser(name, about){\r\n    api.sendUserData(name, about)\r\n      .then((res) =>{\r\n        setUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch(err => {\r\n        console.log(`Ошибка: ${err}`)\r\n      })\r\n  }\r\n\r\n  function handleUpdateAvatar(link){\r\n    api.sendUserAvatar(link)\r\n      .then((res) =>{\r\n        setUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch(err => {\r\n        console.log(`Ошибка: ${err}`)\r\n      })\r\n  }\r\n\r\n  function handleAddCard(name, link){\r\n    api.sendCardInfo(name, link)\r\n      .then((newCard) =>{\r\n        setCards([newCard, ...initialCards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch(err => {\r\n        console.log(`Ошибка: ${err}`)\r\n      })\r\n  }\r\n\r\n  return (\r\n    <div className=\"page\">\r\n    <Header />\r\n    <UserContext.Provider value={currentUser}>\r\n      <Main \r\n        handleCardClick={handleCardClick} \r\n        onEditProfile={toggleEditProfile} \r\n        onAddPlace={toggleAddPlace} \r\n        onEditAvatar={toggleEditAvatar}\r\n        cards={initialCards}\r\n        onCardDelete={handleCardDelete}\r\n        onCardLike={handleCardLike}/>\r\n      <Footer />\r\n      <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser}/>\r\n    </UserContext.Provider>\r\n    <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar}/>\r\n    <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddCard={handleAddCard}/>\r\n    <PopupWithForm name=\"delete\" title=\"Вы уверены?\" onClose={closeAllPopups}>\r\n      <button className = \"popup__save-button\" type = \"submit\">Да</button>\r\n    </PopupWithForm>    \r\n    <ImagePopup onClose={closeAllPopups} isOpen={isImagePopupOpen} selectedCard={selectedCard}/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\n//Еще раз спасибо большое!\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}